{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "headless-example",
  "type": "registry:component",
  "title": "Headless wrapper",
  "description": "Build a custom wrapper with useDndGrid.",
  "dependencies": ["@dnd-grid/react", "react-draggable", "react-resizable"],
  "css": {
    "@import \"@dnd-grid/react/styles.css\"": {}
  },
  "files": [
    {
      "path": "examples/dnd-grid-headless-example.tsx",
      "type": "registry:component",
      "content": "\"use client\";\n\nimport {\n  GridItem,\n  type Layout,\n  useContainerWidth,\n  useDndGrid,\n} from \"@dnd-grid/react\";\nimport * as React from \"react\";\n\nconst initialLayout: Layout = [\n  { id: \"a\", x: 0, y: 0, w: 3, h: 2 },\n  { id: \"b\", x: 3, y: 0, w: 3, h: 2 },\n  { id: \"c\", x: 6, y: 0, w: 3, h: 2 },\n];\n\nexport function HeadlessExample() {\n  const [layout, setLayout] = React.useState(initialLayout);\n  const { width, containerRef, mounted } = useContainerWidth({\n    measureBeforeMount: true,\n  });\n  const children = layout.map((item) => (\n    <div key={item.id} className=\"grid-item\">\n      {item.id}\n    </div>\n  ));\n\n  const { gridProps, itemProps, liveRegionElement } = useDndGrid({\n    layout,\n    onLayoutChange: setLayout,\n    cols: 12,\n    rowHeight: 50,\n    width,\n    children,\n  });\n\n  const { ref: gridRef, ...restGridProps } = gridProps;\n  const setGridRef = React.useCallback(\n    (node: HTMLDivElement | null) => {\n      containerRef.current = node;\n      if (typeof gridRef === \"function\") {\n        gridRef(node);\n        return;\n      }\n      if (gridRef) {\n        (gridRef as React.MutableRefObject<HTMLDivElement | null>).current =\n          node;\n      }\n    },\n    [containerRef, gridRef],\n  );\n\n  const droppingProps = itemProps.getDroppingItemProps();\n  const placeholderProps = itemProps.getPlaceholderProps();\n\n  return (\n    <div className=\"space-y-2\">\n      <div className=\"text-xs text-zinc-500\">Custom wrapper</div>\n      <div {...restGridProps} ref={setGridRef}>\n        {mounted && (\n          <>\n            {liveRegionElement}\n            {React.Children.map(children, (child) => {\n              const props = itemProps.getItemProps(child);\n              return props ? <GridItem {...props} /> : null;\n            })}\n            {droppingProps && <GridItem {...droppingProps} />}\n            {placeholderProps && <GridItem {...placeholderProps} />}\n          </>\n        )}\n      </div>\n    </div>\n  );\n}\n"
    }
  ]
}
