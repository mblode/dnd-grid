---
title: DndGrid
description: The main grid layout component
---

## Import

```tsx
import { DndGrid } from "@dnd-grid/react";
```

## Basic Usage

```tsx
<DndGrid
  layout={layout}
  cols={12}
  rowHeight={30}
  width={1200}
  onLayoutChange={setLayout}
>
  <div key="a">A</div>
  <div key="b">B</div>
</DndGrid>
```

## Props

### Required Props

<ResponseField name="layout" type="Layout" required>
  Array of layout items defining position and size of each grid item.

  ```tsx
  const layout: Layout = [
    { i: "a", x: 0, y: 0, w: 2, h: 2, deg: 0 }
  ];
  ```
</ResponseField>

<ResponseField name="width" type="number" required>
  Width of the grid container in pixels. Used to calculate item positions.
</ResponseField>

<ResponseField name="children" type="ReactNode" required>
  Grid items. Each child must have a unique `key` matching a layout item's `i` property.
</ResponseField>

### Grid Configuration

<ResponseField name="cols" type="number" default="12">
  Number of columns in the grid.
</ResponseField>

<ResponseField name="rowHeight" type="number" default="150">
  Height of a single row in pixels.
</ResponseField>

<ResponseField name="margin" type="[number, number, number, number]" default="[10, 10, 10, 10]">
  Margin around items in pixels: `[top, right, bottom, left]`.
</ResponseField>

<ResponseField name="containerPadding" type="[number, number, number, number] | null" default="null">
  Padding inside the container: `[top, right, bottom, left]`. If null, uses margin values.
</ResponseField>

<ResponseField name="autoSize" type="boolean" default="true">
  If true, container height adjusts to fit content.
</ResponseField>

<ResponseField name="maxRows" type="number" default="Infinity">
  Maximum number of rows in the grid.
</ResponseField>

### Behavior

<ResponseField name="isDraggable" type="boolean" default="true">
  Enable dragging for all items. Can be overridden per-item.
</ResponseField>

<ResponseField name="isResizable" type="boolean" default="true">
  Enable resizing for all items. Can be overridden per-item.
</ResponseField>

<ResponseField name="isBounded" type="boolean" default="false">
  Keep items within the grid container bounds during drag.
</ResponseField>

<ResponseField name="allowOverlap" type="boolean" default="false">
  Allow items to overlap each other. Disables compaction.
</ResponseField>

<ResponseField name="preventCollision" type="boolean" default="false">
  Block movement into occupied space instead of pushing items.
</ResponseField>

<ResponseField name="compactType" type='"vertical" | "horizontal" | null' default='"vertical"'>
  Direction to compact items after drag/resize.
  - `"vertical"` - Compact upward
  - `"horizontal"` - Compact leftward
  - `null` - No compaction
</ResponseField>

### Drag Configuration

<ResponseField name="draggableHandle" type="string">
  CSS selector for elements that trigger drag. If set, only matching elements can start a drag.

  ```tsx
  <DndGrid draggableHandle=".handle">
    <div key="a">
      <div className="handle">Drag here</div>
      <div>Content</div>
    </div>
  </DndGrid>
  ```
</ResponseField>

<ResponseField name="draggableCancel" type="string">
  CSS selector for elements that should not trigger drag.

  ```tsx
  <DndGrid draggableCancel=".no-drag">
    <div key="a">
      <button className="no-drag">Click me</button>
    </div>
  </DndGrid>
  ```
</ResponseField>

<ResponseField name="dragTouchDelayDuration" type="number" default="0">
  Milliseconds to wait before drag starts on touch devices. Helps distinguish scroll from drag.
</ResponseField>

### Resize Configuration

<ResponseField name="resizeHandles" type="ResizeHandleAxis[]" default='["se"]'>
  Which edges/corners show resize handles.

  Options: `"n"`, `"e"`, `"s"`, `"w"`, `"ne"`, `"nw"`, `"se"`, `"sw"`

  ```tsx
  <DndGrid resizeHandles={["se", "sw", "ne", "nw"]} />
  ```
</ResponseField>

<ResponseField name="resizeHandle" type="ReactNode | ((axis, ref) => ReactNode)">
  Custom resize handle component.
</ResponseField>

### Drop Configuration

<ResponseField name="isDroppable" type="boolean" default="false">
  Allow dropping items from outside the grid.
</ResponseField>

<ResponseField name="droppingItem" type="Partial<LayoutItem>">
  Configuration for the item being dropped from outside.
</ResponseField>

### Transform

<ResponseField name="transformScale" type="number" default="1">
  Scale factor for CSS transforms. Use when the grid is inside a scaled container.
</ResponseField>

<ResponseField name="useCSSTransforms" type="boolean" default="true">
  Use CSS transforms for positioning. Set to false for top/left positioning.
</ResponseField>

### Styling

<ResponseField name="className" type="string">
  Additional CSS class for the grid container.
</ResponseField>

<ResponseField name="style" type="CSSProperties">
  Inline styles for the grid container.
</ResponseField>

<ResponseField name="innerRef" type="Ref<HTMLDivElement>">
  Ref to the grid container element.
</ResponseField>

## Callbacks

See [Callbacks](/api-reference/callbacks) for detailed callback documentation.

| Callback | Description |
|----------|-------------|
| `onLayoutChange` | Layout changed (drag, resize, or external update) |
| `onDragStart` | Drag started |
| `onDrag` | Dragging in progress |
| `onDragStop` | Drag ended |
| `onResizeStart` | Resize started |
| `onResize` | Resizing in progress |
| `onResizeStop` | Resize ended |
| `onDrop` | External item dropped |
| `onDropDragOver` | External item dragged over grid |

## Example

```tsx
import { useState } from "react";
import { DndGrid, type Layout } from "@dnd-grid/react";
import "@dnd-grid/react/dist/styles.css";

function Dashboard() {
  const [layout, setLayout] = useState<Layout>([
    { i: "sales", x: 0, y: 0, w: 6, h: 4, deg: 0, minW: 3 },
    { i: "chart", x: 6, y: 0, w: 6, h: 4, deg: 0 },
    { i: "stats", x: 0, y: 4, w: 12, h: 2, deg: 0, static: true },
  ]);

  return (
    <DndGrid
      layout={layout}
      cols={12}
      rowHeight={50}
      width={1200}
      margin={[16, 16, 16, 16]}
      isDraggable
      isResizable
      isBounded
      compactType="vertical"
      resizeHandles={["se", "sw"]}
      onLayoutChange={setLayout}
    >
      <div key="sales">Sales Widget</div>
      <div key="chart">Chart Widget</div>
      <div key="stats">Stats (Static)</div>
    </DndGrid>
  );
}
```
