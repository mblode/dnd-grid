@layer dnd-grid-theme {
  :root {
    /* Legacy variable names (backwards compatibility) */
    --scale-factor: 1;
    --widget-border-radius: 24px;
    --dnd-grid-placeholder: rgba(0, 0, 0, 0.012);
    --dnd-grid-resize-handle: rgb(255, 255, 255);

    /* New variable names (preferred) */
    --dnd-grid-scale: var(--scale-factor);
    --dnd-grid-radius: var(--widget-border-radius);
    --dnd-grid-placeholder-bg: var(--dnd-grid-placeholder);
    --dnd-grid-placeholder-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.06);
    --dnd-grid-handle-size: 16px;
    --dnd-grid-handle-bg: var(--dnd-grid-resize-handle);
    --dnd-grid-handle-shadow: 0 0 1px 1px rgba(0, 0, 0, 0.06),
      0 9px 9px rgba(0, 0, 0, 0.04),
      0 5.83333px 5.27083px rgba(0, 0, 0, 0.03),
      0 3.46667px 2.86667px rgba(0, 0, 0, 0.024),
      0 1.8px 1.4625px rgba(0, 0, 0, 0.02),
      0 0.733333px 0.733333px rgba(0, 0, 0, 0.016);
    --dnd-grid-transition-duration: 200ms;
    --dnd-grid-transition-easing: cubic-bezier(0.2, 0, 0, 1);

    @media (prefers-color-scheme: dark) {
      --dnd-grid-placeholder: rgba(255, 255, 255, 0.02);
      --dnd-grid-resize-handle: rgb(255, 255, 255);

      /* Update derived variables for dark mode */
      --dnd-grid-placeholder-bg: var(--dnd-grid-placeholder);
      --dnd-grid-handle-bg: var(--dnd-grid-resize-handle);
    }
  }

  /* Grid item visual styles */
  .dnd-grid-item:not(.dnd-grid-placeholder) {
    border-radius: calc(var(--widget-border-radius) * var(--scale-factor));
  }

  /* Placeholder visual styles */
  .dnd-grid-item.dnd-grid-placeholder {
    background-color: var(--dnd-grid-placeholder);
    box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.06);
    border-radius: calc(var(--widget-border-radius) * var(--scale-factor));
  }

  /* Resize handle visibility on hover */
  .dnd-grid-item.is-hovered > .react-resizable-handle,
  .dnd-grid-item:hover > .react-resizable-handle {
    opacity: 1;
  }

  /* Default resize handle visual styles */
  .dnd-grid-resize-handle {
    z-index: 10;
    background-color: var(--dnd-grid-resize-handle);
    padding: 0;
    width: 16px;
    height: 16px;
    border-radius: 9999px;
    box-shadow:
      0 0 1px 1px rgba(0, 0, 0, 0.06),
      0 9px 9px rgba(0, 0, 0, 0.04),
      0 5.83333px 5.27083px rgba(0, 0, 0, 0.03),
      0 3.46667px 2.86667px rgba(0, 0, 0, 0.024),
      0 1.8px 1.4625px rgba(0, 0, 0, 0.02),
      0 0.733333px 0.733333px rgba(0, 0, 0, 0.016);
  }
}
