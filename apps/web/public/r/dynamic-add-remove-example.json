{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "dynamic-add-remove-example",
  "type": "registry:component",
  "title": "Dynamic add/remove",
  "description": "Add and remove items at runtime.",
  "dependencies": ["@dnd-grid/react", "react-draggable", "react-resizable"],
  "css": {
    "@import \"@dnd-grid/react/styles.css\"": {}
  },
  "files": [
    {
      "path": "examples/dnd-grid-dynamic-add-remove-example.tsx",
      "type": "registry:component",
      "content": "\"use client\";\n\nimport {\n  DndGrid,\n  findEmptyPosition,\n  type Layout,\n} from \"@dnd-grid/react\";\nimport { type CSSProperties, useCallback, useState } from \"react\";\n\nconst removeButtonStyle: CSSProperties = {\n  position: \"absolute\",\n  top: 6,\n  right: 6,\n  width: 22,\n  height: 22,\n  borderRadius: 9999,\n  border: \"1px solid #e5e7eb\",\n  background: \"white\",\n  color: \"#0f172a\",\n  display: \"inline-flex\",\n  alignItems: \"center\",\n  justifyContent: \"center\",\n  fontSize: 12,\n  lineHeight: \"1\",\n  cursor: \"pointer\",\n  boxShadow: \"0 1px 2px rgba(15, 23, 42, 0.08)\",\n};\n\nexport function DynamicAddRemoveExample() {\n  const [counter, setCounter] = useState(5);\n  const [layout, setLayout] = useState<Layout>(\n    [0, 1, 2, 3, 4].map((i) => ({\n      id: i.toString(),\n      x: (i * 2) % 12,\n      y: 0,\n      w: 2,\n      h: 2,\n    })),\n  );\n\n  const addItem = useCallback(() => {\n    setLayout((prev) => {\n      const position = findEmptyPosition(prev, { w: 2, h: 2 }, 12);\n\n      return [\n        ...prev,\n        {\n          id: `n${counter}`,\n          ...position,\n          w: 2,\n          h: 2,\n        },\n      ];\n    });\n    setCounter((c) => c + 1);\n  }, [counter]);\n\n  const removeItem = useCallback((id: string) => {\n    setLayout((prev) => prev.filter((item) => item.id !== id));\n  }, []);\n\n  const removeLastItem = useCallback(() => {\n    setLayout((prev) => (prev.length > 0 ? prev.slice(0, -1) : prev));\n  }, []);\n\n  return (\n    <div>\n      <div style={{ display: \"flex\", gap: 8, marginBottom: 12 }}>\n        <button type=\"button\" onClick={addItem}>\n          Add Item\n        </button>\n        <button\n          type=\"button\"\n          onClick={removeLastItem}\n          disabled={layout.length === 0}\n        >\n          Remove Last Item\n        </button>\n      </div>\n\n      <DndGrid\n        layout={layout}\n        cols={12}\n        rowHeight={50}\n        dragCancel=\".grid-item-remove\"\n        onLayoutChange={setLayout}\n      >\n        {layout.map((item) => (\n          <div key={item.id} className=\"grid-item\">\n            <span>{item.id}</span>\n            <button\n              type=\"button\"\n              onClick={() => removeItem(item.id)}\n              style={removeButtonStyle}\n              className=\"grid-item-remove\"\n              aria-label={`Remove ${item.id}`}\n              title=\"Remove\"\n            >\n              x\n            </button>\n          </div>\n        ))}\n      </DndGrid>\n    </div>\n  );\n}\n"
    }
  ]
}
